<!DOCTYPE html>
<html lang="en-us" dir="ltr">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="">
<meta name="theme-color" media="(prefers-color-scheme: light)" content="#ffffff">
<meta name="theme-color" media="(prefers-color-scheme: dark)" content="#343a40">
<meta name="color-scheme" content="light dark"><meta property="og:url" content="http://localhost:1313/categories/notes/">
  <meta property="og:site_name" content="Manchey Blog">
  <meta property="og:title" content="Notes">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="website">
<title>Notes | Manchey Blog</title>
<link rel="icon" href="http://localhost:1313/logo.png" >
<link rel="manifest" href="http://localhost:1313/manifest.json">
<link rel="canonical" href="http://localhost:1313/categories/notes/">
<link rel="stylesheet" href="http://localhost:1313/book.min.2d11051f9bbf9eb3c1e80b2b7a60b21379d1b88bdcc5a0c2b268ec9357d72f50.css" integrity="sha256-LREFH5u/nrPB6AsremCyE3nRuIvcxaDCsmjsk1fXL1A=" crossorigin="anonymous">
  <script defer src="http://localhost:1313/fuse.min.js"></script>
  <script defer src="http://localhost:1313/en.search.min.cba2a17163d765382a98fdfdb563694e75c6dc9bbdcc43aa5ddd8d7c33b9ef35.js" integrity="sha256-y6KhcWPXZTgqmP39tWNpTnXG3Ju9zEOqXd2NfDO57zU=" crossorigin="anonymous"></script>
<link rel="alternate" type="application/rss+xml" href="http://localhost:1313/categories/notes/index.xml" title="Manchey Blog" />
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->
  
</head>
<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
<h2 class="book-brand">
  <a class="flex align-center" href="http://localhost:1313/"><img src="http://localhost:1313/logo.png" alt="Logo" class="book-icon" /><span>Manchey Blog</span>
  </a>
</h2>


<div class="book-search hidden">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>
<script>document.querySelector(".book-search").classList.remove("hidden")</script>























  
<ul>
  
  <li>
    <a href="http://localhost:1313/"  >
        Home
      </a>
  </li>
  
  <li>
    <a href="http://localhost:1313/post/"  >
        Blog
      </a>
  </li>
  
  <li>
    <a href="http://localhost:1313/about/"  >
        About
      </a>
  </li>
  
  <li>
    <a href="https://github.com/Manchey/manchey.github.io"  target="_blank" rel="noopener">
        Github
      </a>
  </li>
  
</ul>






</nav>




  <script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
      </div>
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="http://localhost:1313/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <h3>Notes</h3>

  <label for="toc-control">
    
    <img src="http://localhost:1313/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  <nav>
  <ul>
  
    
    <li class="book-section-flat">
      <strong>Categories</strong>
      <ul>
      
        <li class="flex justify-between">
          <a href="http://localhost:1313/categories/notes/">Notes</a>
          <span>7</span>
        </li>
      
      </ul>
    </li>
    
  
    
    <li class="book-section-flat">
      <strong>Tags</strong>
      <ul>
      
        <li class="flex justify-between">
          <a href="http://localhost:1313/tags/cpp/">Cpp</a>
          <span>3</span>
        </li>
      
        <li class="flex justify-between">
          <a href="http://localhost:1313/tags/wip/">WIP</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="http://localhost:1313/tags/mongodb/">Mongodb</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="http://localhost:1313/tags/spark/">Spark</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="http://localhost:1313/tags/os/">OS</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="http://localhost:1313/tags/blog/">Blog</a>
          <span>15</span>
        </li>
      
        <li class="flex justify-between">
          <a href="http://localhost:1313/tags/tech/bazel/">Tech/Bazel</a>
          <span>3</span>
        </li>
      
        <li class="flex justify-between">
          <a href="http://localhost:1313/tags/tech/cpp/">Tech/Cpp</a>
          <span>7</span>
        </li>
      
        <li class="flex justify-between">
          <a href="http://localhost:1313/tags/tech/cpp/scheduler/cgraph/">Tech/Cpp/Scheduler/Cgraph</a>
          <span>0</span>
        </li>
      
        <li class="flex justify-between">
          <a href="http://localhost:1313/tags/tech/cpp/scheduler/cyberrt/">Tech/Cpp/Scheduler/Cyberrt</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="http://localhost:1313/tags/tech/cpp/scheduler/mediapipe/">Tech/Cpp/Scheduler/Mediapipe</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="http://localhost:1313/tags/tech/cpp/scheduler/taskflow/">Tech/Cpp/Scheduler/Taskflow</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="http://localhost:1313/tags/tech/docker/">Tech/Docker</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="http://localhost:1313/tags/tech/go/">Tech/Go</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="http://localhost:1313/tags/tech/misc/">Tech/Misc</a>
          <span>3</span>
        </li>
      
        <li class="flex justify-between">
          <a href="http://localhost:1313/tags/tech/mongodb/">Tech/Mongodb</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="http://localhost:1313/tags/tech/os/">Tech/Os</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="http://localhost:1313/tags/tech/rust/">Tech/Rust</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="http://localhost:1313/tags/tech/spark/">Tech/Spark</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="http://localhost:1313/tags/%E9%9D%9E%E5%8E%9F%E5%88%9B/">非原创</a>
          <span>4</span>
        </li>
      
      </ul>
    </li>
    
  
  </ul>
</nav>


  </aside>
  
 
      </header>

      
      
  
  <article class="markdown book-post">
    <h2>
      <a href="http://localhost:1313/posts/2024/12/cgraph%E8%B0%83%E7%A0%94/">CGraph调研</a>
    </h2>
    
  <div class="flex align-center text-small book-post-date">
    <img src="http://localhost:1313/svg/calendar.svg" class="book-icon " alt="" />
    <span>December 25, 2024</span>
  </div>



  
  <div class="text-small">
    
      <a href="http://localhost:1313/categories/notes/">Notes</a>
  </div>
  

  
  <div class="text-small">
    
      <a href="http://localhost:1313/tags/cpp/">Cpp</a>
  </div>
  


    <p><p>repo：https://github.com/ChunelFeng/CGraph</p>
<h1 id="功能">
  功能
  <a class="anchor" href="#%e5%8a%9f%e8%83%bd">#</a>
</h1>
<h2 id="建立依赖图关系gpipelinegnodet00t01">
  建立依赖图关系：GPipeline、GNode（T00/T01）
  <a class="anchor" href="#%e5%bb%ba%e7%ab%8b%e4%be%9d%e8%b5%96%e5%9b%be%e5%85%b3%e7%b3%bbgpipelinegnodet00t01">#</a>
</h2>
<ul>
<li>一条pipeline是从头执行到尾的，其实是graph的概念，没有流水线的功能</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C++" data-lang="C++"><span style="display:flex;"><span>status <span style="color:#f92672">+=</span> pipeline<span style="color:#f92672">-&gt;</span>registerGElement<span style="color:#f92672">&lt;</span>MyNode2<span style="color:#f92672">&gt;</span>(<span style="color:#f92672">&amp;</span>b, {a}, <span style="color:#e6db74">&#34;nodeB&#34;</span>);    <span style="color:#75715e">// 将名为nodeB，依赖a执行的node信息，注册入pipeline中
</span></span></span></code></pre></div><h2 id="子图cluster--region类似subgraph互相可嵌套t02t03t04">
  子图：Cluster / Region：类似subgraph，互相可嵌套（T02/T03/T04）
  <a class="anchor" href="#%e5%ad%90%e5%9b%becluster--region%e7%b1%bb%e4%bc%bcsubgraph%e4%ba%92%e7%9b%b8%e5%8f%af%e5%b5%8c%e5%a5%97t02t03t04">#</a>
</h2>
<ul>
<li>cluster：subgraph中的多个节点串行执行</li>
</ul>
<blockquote>
<p><a href="http://www.chunel.cn/archives/cgraph-run-introduce">http://www.chunel.cn/archives/cgraph-run-introduce</a>
<img src="assets/Pasted%20image%2020241225154105.png" alt="|434" />
<img src="assets/Pasted%20image%2020241225154201.png" alt="|588" /></p>
<ul>
<li>这个解释感觉有点奇怪，D/F未能并行执行是实现机制的问题，感觉不需要引入新的概念来解决。</li>
</ul>
</blockquote>
<ul>
<li>region：可以是DAG图</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C++" data-lang="C++"><span style="display:flex;"><span>b_cluster <span style="color:#f92672">=</span> pipeline<span style="color:#f92672">-&gt;</span>createGGroup<span style="color:#f92672">&lt;</span>GCluster<span style="color:#f92672">&gt;</span>({
</span></span><span style="display:flex;"><span>	 pipeline<span style="color:#f92672">-&gt;</span>createGNode<span style="color:#f92672">&lt;</span>MyNode1<span style="color:#f92672">&gt;</span>(GNodeInfo(<span style="color:#e6db74">&#34;nodeB1&#34;</span>, <span style="color:#ae81ff">1</span>)),    <span style="color:#75715e">// 创建名为nodeB1的node信息，并将其放入b_cluster中
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	 pipeline<span style="color:#f92672">-&gt;</span>createGNode<span style="color:#f92672">&lt;</span>MyNode1<span style="color:#f92672">&gt;</span>(GNodeInfo(<span style="color:#e6db74">&#34;nodeB2&#34;</span>, <span style="color:#ae81ff">3</span>)),    <span style="color:#75715e">// 创建名为nodeB2且自循环3次的node信息，并将其放入b_cluster中
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	 pipeline<span style="color:#f92672">-&gt;</span>createGNode<span style="color:#f92672">&lt;</span>MyNode2<span style="color:#f92672">&gt;</span>(GNodeInfo(<span style="color:#e6db74">&#34;nodeB3&#34;</span>, <span style="color:#ae81ff">1</span>))
</span></span><span style="display:flex;"><span>});    <span style="color:#75715e">// 创建cluster信息，包含了三个node信息
</span></span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C++" data-lang="C++"><span style="display:flex;"><span>    b_region <span style="color:#f92672">=</span> pipeline<span style="color:#f92672">-&gt;</span>createGGroup<span style="color:#f92672">&lt;</span>GRegion<span style="color:#f92672">&gt;</span>({b1, b2, b3, b4});    <span style="color:#75715e">// 将 b1、b2、b3、b4 注册入b_region中
</span></span></span></code></pre></div><h2 id="参数传递param-t05">
  参数传递：param (T05)
  <a class="anchor" href="#%e5%8f%82%e6%95%b0%e4%bc%a0%e9%80%92param-t05">#</a>
</h2>
<p>相当于是一个map，同一个pipeline中各个节点共享的全局参数。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C++" data-lang="C++"><span style="display:flex;"><span><span style="color:#75715e">// 创建
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>status <span style="color:#f92672">=</span> CGRAPH_CREATE_GPARAM(MyParam, <span style="color:#e6db74">&#34;param1&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 读取
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">auto</span><span style="color:#f92672">*</span> myParam <span style="color:#f92672">=</span> CGRAPH_GET_GPARAM_WITH_NO_EMPTY(MyParam, <span style="color:#e6db74">&#34;param1&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 写入
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>CGRAPH_PARAM_WRITE_CODE_BLOCK(myParam)
</span></span></code></pre></div><h2 id="条件选择condition-t06">
  条件选择：Condition （T06）
  <a class="anchor" href="#%e6%9d%a1%e4%bb%b6%e9%80%89%e6%8b%a9condition-t06">#</a>
</h2>
<p>根据<code>choose</code>返回值，来决定下一步运行哪一个节点。</p>
<p>choose函数里，可以通过param来获取到外界信息，做一些判断。</p>
        <a href="http://localhost:1313/posts/2024/12/cgraph%E8%B0%83%E7%A0%94/">...</a>
      
    </p>
  </article>
  
  <article class="markdown book-post">
    <h2>
      <a href="http://localhost:1313/posts/2024/12/mac%E4%B8%ADvscode%E6%89%93%E5%BC%80devdocker%E6%8F%90%E7%A4%BAremote-extension-host-terminated-unexpectedly/">mac中vscode打开devdocker提示&#34;Remote Extension host terminated unexpectedly&#34;</a>
    </h2>
    
  <div class="flex align-center text-small book-post-date">
    <img src="http://localhost:1313/svg/calendar.svg" class="book-icon " alt="" />
    <span>December 19, 2024</span>
  </div>



  
  <div class="text-small">
    
      <a href="http://localhost:1313/categories/notes/">Notes</a>
  </div>
  

  


    <p><h1 id="参考">
  参考
  <a class="anchor" href="#%e5%8f%82%e8%80%83">#</a>
</h1>
<blockquote>
<p><a href="https://github.com/microsoft/vscode-remote-release/issues/8967#issuecomment-1873199481">https://github.com/microsoft/vscode-remote-release/issues/8967#issuecomment-1873199481</a></p>
</blockquote>
<p>switched from VirtioFS to gRPC FUSE and disabled &lsquo;Use Virtualization Framework&rsquo; in my Docker Desktop settings</p>
    </p>
  </article>
  
  <article class="markdown book-post">
    <h2>
      <a href="http://localhost:1313/posts/2024/12/cursor%E4%BF%AEmachine-id/">cursor修machine id</a>
    </h2>
    
  <div class="flex align-center text-small book-post-date">
    <img src="http://localhost:1313/svg/calendar.svg" class="book-icon " alt="" />
    <span>December 15, 2024</span>
  </div>



  
  <div class="text-small">
    
      <a href="http://localhost:1313/categories/notes/">Notes</a>
  </div>
  

  


    <p><h1 id="手动配置方法">
  手动配置方法
  <a class="anchor" href="#%e6%89%8b%e5%8a%a8%e9%85%8d%e7%bd%ae%e6%96%b9%e6%b3%95">#</a>
</h1>
<ol>
<li>
<p>完全关闭 Cursor</p>
</li>
<li>
<p>找到配置文件位置：</p>
<ul>
<li>Windows: %APPDATA%\Cursor\User\globalStorage\storage.json</li>
<li>macOS: ~/Library/Application Support/Cursor/User/globalStorage/storage.json</li>
<li>Linux: ~/.config/Cursor/User/globalStorage/storage.json</li>
</ul>
</li>
<li>
<p>备份 storage.json</p>
</li>
<li>
<p>编辑 storage.json 并更新以下字段（使用新的随机UUID）：</p>
</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;telemetry.machineId&#34;</span>: <span style="color:#e6db74">&#34;生成新的uuid&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;telemetry.macMachineId&#34;</span>: <span style="color:#e6db74">&#34;生成新的uuid&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;telemetry.devDeviceId&#34;</span>: <span style="color:#e6db74">&#34;生成新的uuid&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;telemetry.sqmId&#34;</span>: <span style="color:#e6db74">&#34;生成新的uuid&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;lastModified&#34;</span>: <span style="color:#e6db74">&#34;2024-01-01T00:00:00.000Z&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;version&#34;</span>: <span style="color:#e6db74">&#34;1.0.1&#34;</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ol start="5">
<li>保存文件并重启 Cursor</li>
</ol>
    </p>
  </article>
  
  <article class="markdown book-post">
    <h2>
      <a href="http://localhost:1313/posts/2024/12/swiftui%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">swiftui学习笔记</a>
    </h2>
    
  <div class="flex align-center text-small book-post-date">
    <img src="http://localhost:1313/svg/calendar.svg" class="book-icon " alt="" />
    <span>December 15, 2024</span>
  </div>



  
  <div class="text-small">
    
      <a href="http://localhost:1313/categories/notes/">Notes</a>
  </div>
  

  
  <div class="text-small">
    
      <a href="http://localhost:1313/tags/wip/">WIP</a>
  </div>
  


    <p><h1 id="swiftui学习笔记">
  SwiftUI学习笔记
  <a class="anchor" href="#swiftui%e5%ad%a6%e4%b9%a0%e7%ac%94%e8%ae%b0">#</a>
</h1>
<h2 id="concept">
  Concept
  <a class="anchor" href="#concept">#</a>
</h2>
<h3 id="scene">
  Scene
  <a class="anchor" href="#scene">#</a>
</h3>
<h4 id="程序的入口">
  程序的入口
  <a class="anchor" href="#%e7%a8%8b%e5%ba%8f%e7%9a%84%e5%85%a5%e5%8f%a3">#</a>
</h4>
<p>@main来标识
必须有且只有一个，body 是必须的， 返回一个Scene</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-swift" data-lang="swift"><span style="display:flex;"><span>@main
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> <span style="color:#a6e22e">MyApp</span>: App {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">var</span> body: some Scene {
</span></span><span style="display:flex;"><span>        WindowGroup {
</span></span><span style="display:flex;"><span>            ContentView()
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Scene</p>
<ul>
<li>WindowGroup: 是 Scene 的子类， 表示一个窗口组， 可以包含多个窗口</li>
<li>Window: 表示一个窗口， 可以包含多个视图</li>
<li>Document Group: 表示一个文档组， 可以包含多个文档</li>
<li>Settings: 表示一个设置组， 可以包含多个设置</li>
</ul>
<h3 id="view">
  View
  <a class="anchor" href="#view">#</a>
</h3>
<p>视图是什么？</p>
<ul>
<li>视图是 SwiftUI 中的基本构建块， 用于构建用户界面</li>
<li>视图可以包含其他视图， 形成层次结构</li>
<li>视图可以包含数据和行为， 用于构建动态和交互式的用户界面</li>
<li>视图可以包含样式和布局， 用于构建美观和一致的用户界面</li>
</ul>
    </p>
  </article>
  
  <article class="markdown book-post">
    <h2>
      <a href="http://localhost:1313/posts/2024/10/spark-mongodb/">spark &amp; mongodb</a>
    </h2>
    
  <div class="flex align-center text-small book-post-date">
    <img src="http://localhost:1313/svg/calendar.svg" class="book-icon " alt="" />
    <span>October 23, 2024</span>
  </div>



  
  <div class="text-small">
    
      <a href="http://localhost:1313/categories/notes/">Notes</a>
  </div>
  

  
  <div class="text-small">
    
      <a href="http://localhost:1313/tags/spark/">Spark</a>, 
      <a href="http://localhost:1313/tags/mongodb/">Mongodb</a>
  </div>
  


    <p><h1 id="spark">
  spark
  <a class="anchor" href="#spark">#</a>
</h1>
<p><a href="https://spark.apache.org/docs/latest/api/python/index.html#index-page-spark-sql-and-dataframes">https://spark.apache.org/docs/latest/api/python/index.html#index-page-spark-sql-and-dataframes</a></p>
<ul>
<li>Spark SQL &amp; DataFrames
<ul>
<li>spark.createDataFrame
<ul>
<li>df.show()</li>
<li>df.columns</li>
<li>df.printSchema()</li>
</ul>
</li>
</ul>
</li>
<li>Pandas API on Spark</li>
<li>Structured Streaming</li>
<li>Machine Learning</li>
</ul>
<h1 id="mongodb">
  mongodb
  <a class="anchor" href="#mongodb">#</a>
</h1>
<h2 id="安装">
  安装
  <a class="anchor" href="#%e5%ae%89%e8%a3%85">#</a>
</h2>
<p><a href="https://www.mongodb.com/zh-cn/docs/v6.0/tutorial/install-mongodb-on-os-x/">https://www.mongodb.com/zh-cn/docs/v6.0/tutorial/install-mongodb-on-os-x/</a></p>
<h3 id="启停服务">
  启停服务
  <a class="anchor" href="#%e5%90%af%e5%81%9c%e6%9c%8d%e5%8a%a1">#</a>
</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-plain" data-lang="plain"><span style="display:flex;"><span>brew services stop mongodb-community@7.0
</span></span></code></pre></div><h4 id="配置文件">
  配置文件
  <a class="anchor" href="#%e9%85%8d%e7%bd%ae%e6%96%87%e4%bb%b6">#</a>
</h4>
<p><a href="https://www.mongodb.com/zh-cn/docs/v6.0/reference/configuration-options/">https://www.mongodb.com/zh-cn/docs/v6.0/reference/configuration-options/</a></p>
<h4 id="debug">
  debug
  <a class="anchor" href="#debug">#</a>
</h4>
<p>要验证 MongoDB 是否正在运行，请执行以下操作之一：</p>
<ul>
<li>如果将 MongoDB <strong>作为 macOS 服务</strong>启动：</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-plain" data-lang="plain"><span style="display:flex;"><span>brew services list
</span></span></code></pre></div><p>应该会看到服务 <code>mongodb-community</code> 列为 <code>started</code>。</p>
<ul>
<li>如果将 <strong>MongoDB 作为后台进程手动</strong>启动：</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-plain" data-lang="plain"><span style="display:flex;"><span>ps aux | grep -v grep | grep mongod
</span></span></code></pre></div><p>应该在输出中看到 <code>mongod</code> 进程。</p>
        <a href="http://localhost:1313/posts/2024/10/spark-mongodb/">...</a>
      
    </p>
  </article>
  
  <article class="markdown book-post">
    <h2>
      <a href="http://localhost:1313/posts/2024/10/jemalloc%E5%88%86%E6%9E%90/">jemalloc分析</a>
    </h2>
    
  <div class="flex align-center text-small book-post-date">
    <img src="http://localhost:1313/svg/calendar.svg" class="book-icon " alt="" />
    <span>October 11, 2024</span>
  </div>



  
  <div class="text-small">
    
      <a href="http://localhost:1313/categories/notes/">Notes</a>
  </div>
  

  
  <div class="text-small">
    
      <a href="http://localhost:1313/tags/cpp/">Cpp</a>, 
      <a href="http://localhost:1313/tags/os/">OS</a>
  </div>
  


    <p><h1 id="jemalloc-源码分析">
  jemalloc 源码分析
  <a class="anchor" href="#jemalloc-%e6%ba%90%e7%a0%81%e5%88%86%e6%9e%90">#</a>
</h1>
<ul>
<li><a href="https://blog.lfalive.top/2022/02/15/JeMalloc/">https://blog.lfalive.top/2022/02/15/JeMalloc/</a></li>
<li><a href="https://uncp.github.io/JeMalloc/">https://uncp.github.io/JeMalloc/</a></li>
</ul>
<p><img src="99_work/assets/b152a7d4afd683e75810d68e49371796_MD5.png" alt="1728985022446" /></p>
<ul>
<li><a href="https://blog.csdn.net/qq_37517281/article/details/132760960">https://blog.csdn.net/qq_37517281/article/details/132760960</a></li>
</ul>
<p><img src="99_work/assets/9139744f3f54fa1918e72b2262fcc8e2_MD5.png" alt="1728979610011" title="https://blog.csdn.net/qq_37517281/article/details/132760960"/></p>
<h1 id="jemalloc-heap-profile">
  jemalloc heap profile
  <a class="anchor" href="#jemalloc-heap-profile">#</a>
</h1>
<h1 id="jemalloc-statistic">
  jemalloc statistic
  <a class="anchor" href="#jemalloc-statistic">#</a>
</h1>
<h2 id="配置方法">
  配置方法
  <a class="anchor" href="#%e9%85%8d%e7%bd%ae%e6%96%b9%e6%b3%95">#</a>
</h2>
<p>通过MALLOC_CONF环境变量使能</p>
<p><code>export MALLOC_CONF=stats_interval:256000000</code></p>
<blockquote>
<p><code>opt.stats_interval</code> (int64_t) <code>r-</code></p>
<p>Average interval between statistics outputs, as measured in bytes of allocation activity. The actual interval may be sporadic because decentralized event counters are used to avoid synchronization bottlenecks. The output may be triggered on any thread, which then calls <code>malloc_stats_print()</code>. <code>opt.stats_interval_opts</code> can be combined to specify output options. By default, interval-triggered stats output is disabled (encoded as -1).</p>
        <a href="http://localhost:1313/posts/2024/10/jemalloc%E5%88%86%E6%9E%90/">...</a>
      
    </p>
  </article>
  
  <article class="markdown book-post">
    <h2>
      <a href="http://localhost:1313/posts/2024/01/c-%E6%A8%A1%E6%9D%BF%E5%88%86%E4%BA%AB/">c&#43;&#43;模板分享</a>
    </h2>
    
  <div class="flex align-center text-small book-post-date">
    <img src="http://localhost:1313/svg/calendar.svg" class="book-icon " alt="" />
    <span>January 14, 2024</span>
  </div>



  
  <div class="text-small">
    
      <a href="http://localhost:1313/categories/notes/">Notes</a>
  </div>
  

  
  <div class="text-small">
    
      <a href="http://localhost:1313/tags/cpp/">Cpp</a>
  </div>
  


    <p><p><a href="https://www.yuque.com/attachments/yuque/0/2024/pptx/34951004/1705561090412-c384c966-e607-4231-8b3f-64e3cff125b1.pptx">c++templates基础 - 20240118.pptx</a></p>
<h1 id="为什么需要模版">
  为什么需要模版
  <a class="anchor" href="#%e4%b8%ba%e4%bb%80%e4%b9%88%e9%9c%80%e8%a6%81%e6%a8%a1%e7%89%88">#</a>
</h1>
<p><img src="assets/2024-01-14-c&#43;&#43;%e6%a8%a1%e6%9d%bf%e5%88%86%e4%ba%ab@bc2c37aa-46d0-42b1-ab29-cf28090ac1fa.png" alt="" /></p>
<h2 id="bad-old-days">
  Bad Old Days
  <a class="anchor" href="#bad-old-days">#</a>
</h2>
<h3 id="reuse-with-cut-n-paste">
  Reuse with cut-N-paste
  <a class="anchor" href="#reuse-with-cut-n-paste">#</a>
</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> <span style="color:#a6e22e">int_node</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    int_node<span style="color:#f92672">*</span>  next;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> value;
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> <span style="color:#a6e22e">int_list</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    int_node<span style="color:#f92672">*</span>  front;
</span></span><span style="display:flex;"><span>    int_node<span style="color:#f92672">*</span>  back;
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">int_list_append</span>(int_list<span style="color:#f92672">*</span> l, <span style="color:#66d9ef">int</span> val);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">int_list_prepend</span>(int_list<span style="color:#f92672">*</span> l, <span style="color:#66d9ef">int</span> val);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">int_list_clear</span>(int_list<span style="color:#f92672">*</span> l);
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> <span style="color:#a6e22e">double_node</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>double_node<span style="color:#f92672">*</span>  next;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">double</span>        value;
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> <span style="color:#a6e22e">double_list</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>double_node<span style="color:#f92672">*</span>  front;
</span></span><span style="display:flex;"><span>double_node<span style="color:#f92672">*</span>  back;
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">double</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">dbl_list_append</span>(int_list<span style="color:#f92672">*</span> l, <span style="color:#66d9ef">double</span> val);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">dbl_list_prepend</span>(int_list<span style="color:#f92672">*</span> l, <span style="color:#66d9ef">double</span> val);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">dbl_list_clear</span>(int_list<span style="color:#f92672">*</span> l);
</span></span></code></pre></div><h3 id="reuse-with-type-erasure">
  Reuse with Type Erasure
  <a class="anchor" href="#reuse-with-type-erasure">#</a>
</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">qsort</span>(<span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span>base, size_t nmemb, size_t size,
</span></span><span style="display:flex;"><span>           <span style="color:#66d9ef">int</span> (<span style="color:#f92672">*</span>compare)(<span style="color:#66d9ef">const</span> <span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span>, <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">cmp_dbl</span>(<span style="color:#66d9ef">const</span> <span style="color:#66d9ef">void</span><span style="color:#f92672">*</span> va, <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">void</span><span style="color:#f92672">*</span> vb)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">double</span> a <span style="color:#f92672">=</span> <span style="color:#f92672">*</span>((<span style="color:#66d9ef">double</span> <span style="color:#66d9ef">const</span><span style="color:#f92672">*</span>) va);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">double</span> b <span style="color:#f92672">=</span> <span style="color:#f92672">*</span>((<span style="color:#66d9ef">double</span> <span style="color:#66d9ef">const</span><span style="color:#f92672">*</span>) vb);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (a <span style="color:#f92672">&lt;</span> b)       <span style="color:#66d9ef">return</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> (a <span style="color:#f92672">==</span> b) <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span>             <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">f</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">double</span> dbl_data[<span style="color:#ae81ff">4</span>] <span style="color:#f92672">=</span> { <span style="color:#ae81ff">3.14159</span>, <span style="color:#ae81ff">1.41421</span>, <span style="color:#ae81ff">2.71828</span>, <span style="color:#ae81ff">1.61803</span> };
</span></span><span style="display:flex;"><span>    qsort(<span style="color:#f92672">&amp;</span>dbl_data[<span style="color:#ae81ff">0</span>], <span style="color:#ae81ff">4u</span>, <span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">double</span>), <span style="color:#f92672">&amp;</span>cmp_dbl); 
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="reuse-with-macros">
  Reuse with Macros
  <a class="anchor" href="#reuse-with-macros">#</a>
</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#75715e">#define BUILD_COMPARE(TYPE)                          \
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">    int cmp_ ## TYPE(const void* va, const void* vb) \
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">    {                                                \
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">      TYPE const* pa = static_cast&lt;TYPE const*&gt;(va); \
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">      TYPE const* pb = static_cast&lt;TYPE const*&gt;(vb); \
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">      if (*pa &lt; *pb) return -1;                      \
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">      else if (*pa == *pb) return 0;                 \
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">      else return 1;                                 \
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">    }
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>BUILD_COMPARE(<span style="color:#66d9ef">float</span>)
</span></span><span style="display:flex;"><span>BUILD_COMPARE(<span style="color:#66d9ef">double</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> h()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">float</span> data[<span style="color:#ae81ff">4</span>] <span style="color:#f92672">=</span> { <span style="color:#ae81ff">4.0</span>, <span style="color:#ae81ff">3.0</span>, <span style="color:#ae81ff">2.0</span>, <span style="color:#ae81ff">1.0</span> }; 
</span></span><span style="display:flex;"><span>    qsort(<span style="color:#f92672">&amp;</span>data[<span style="color:#ae81ff">0</span>], <span style="color:#ae81ff">4u</span>, <span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">float</span>), <span style="color:#f92672">&amp;</span>cmp_float); <span style="color:#75715e">//- OK 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    qsort(<span style="color:#f92672">&amp;</span>data[<span style="color:#ae81ff">0</span>], <span style="color:#ae81ff">4u</span>, <span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">float</span>), <span style="color:#f92672">&amp;</span>cmp_dbl); <span style="color:#75715e">//- Error
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span></code></pre></div><h2 id="code-reuse">
  Code Reuse
  <a class="anchor" href="#code-reuse">#</a>
</h2>
<ul>
<li>These problems have been around a long time</li>
<li>In the 1970&rsquo;s, some languages began allowing algorithms to be written in terms of types to-be-specified-later</li>
<li>Algorithms were then instantiated on demand using type arguments</li>
<li>This approach is now known as <strong>generic programming:
****	C++ supports generic programming with templates</strong></li>
</ul>
<h1 id="模版基础">
  模版基础
  <a class="anchor" href="#%e6%a8%a1%e7%89%88%e5%9f%ba%e7%a1%80">#</a>
</h1>
<h2 id="分类">
  分类
  <a class="anchor" href="#%e5%88%86%e7%b1%bb">#</a>
</h2>
<h3 id="thing-template">
  <em>thing</em> template
  <a class="anchor" href="#thing-template">#</a>
</h3>
<p>This kind of template &hellip; is a parametrized description of a family of &hellip;</p>
        <a href="http://localhost:1313/posts/2024/01/c-%E6%A8%A1%E6%9D%BF%E5%88%86%E4%BA%AB/">...</a>
      
    </p>
  </article>
  

  
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">





</div>



  <script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script>


 
        
      </footer>

      
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      <div class="book-toc-content">
        
  <nav>
  <ul>
  
    
    <li class="book-section-flat">
      <strong>Categories</strong>
      <ul>
      
        <li class="flex justify-between">
          <a href="http://localhost:1313/categories/notes/">Notes</a>
          <span>7</span>
        </li>
      
      </ul>
    </li>
    
  
    
    <li class="book-section-flat">
      <strong>Tags</strong>
      <ul>
      
        <li class="flex justify-between">
          <a href="http://localhost:1313/tags/cpp/">Cpp</a>
          <span>3</span>
        </li>
      
        <li class="flex justify-between">
          <a href="http://localhost:1313/tags/wip/">WIP</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="http://localhost:1313/tags/mongodb/">Mongodb</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="http://localhost:1313/tags/spark/">Spark</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="http://localhost:1313/tags/os/">OS</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="http://localhost:1313/tags/blog/">Blog</a>
          <span>15</span>
        </li>
      
        <li class="flex justify-between">
          <a href="http://localhost:1313/tags/tech/bazel/">Tech/Bazel</a>
          <span>3</span>
        </li>
      
        <li class="flex justify-between">
          <a href="http://localhost:1313/tags/tech/cpp/">Tech/Cpp</a>
          <span>7</span>
        </li>
      
        <li class="flex justify-between">
          <a href="http://localhost:1313/tags/tech/cpp/scheduler/cgraph/">Tech/Cpp/Scheduler/Cgraph</a>
          <span>0</span>
        </li>
      
        <li class="flex justify-between">
          <a href="http://localhost:1313/tags/tech/cpp/scheduler/cyberrt/">Tech/Cpp/Scheduler/Cyberrt</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="http://localhost:1313/tags/tech/cpp/scheduler/mediapipe/">Tech/Cpp/Scheduler/Mediapipe</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="http://localhost:1313/tags/tech/cpp/scheduler/taskflow/">Tech/Cpp/Scheduler/Taskflow</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="http://localhost:1313/tags/tech/docker/">Tech/Docker</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="http://localhost:1313/tags/tech/go/">Tech/Go</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="http://localhost:1313/tags/tech/misc/">Tech/Misc</a>
          <span>3</span>
        </li>
      
        <li class="flex justify-between">
          <a href="http://localhost:1313/tags/tech/mongodb/">Tech/Mongodb</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="http://localhost:1313/tags/tech/os/">Tech/Os</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="http://localhost:1313/tags/tech/rust/">Tech/Rust</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="http://localhost:1313/tags/tech/spark/">Tech/Spark</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="http://localhost:1313/tags/%E9%9D%9E%E5%8E%9F%E5%88%9B/">非原创</a>
          <span>4</span>
        </li>
      
      </ul>
    </li>
    
  
  </ul>
</nav>

 
      </div>
    </aside>
    
  </main>

  
</body>
</html>












